<!DOCTYPE html>
<html>
<head>
	<title>upload</title>
	<link rel="stylesheet" href="//cdn.amazeui.org/amazeui/2.7.2/css/amazeui.min.css">
</head>
<body>

<form class="am-form-inline" method="post" enctype="multipart/form-data" action="test.php">
<div class="umodal-normal am-form-file am-text-left">
  <button type="button" class="am-btn am-btn-default am-btn-sm">
    <i class="am-icon-cloud-upload"></i> 选择要上传的照片
  </button>
  <input id="cworker_photo" class="cfile" name="worker_photo4[]" type="file" multiple>
  <div class="file-list"></div>
</div>
<button type="button" class="sub">button</button>
<button type="submit">完成</button>
</form>


<script src="../js/jquery.min.js"></script>
<script src="../js/amazeui.min.js"></script>
<script src="../js/ajaxfileupload.js"></script>
<script type="text/javascript">
//文件上传
$('.cfile').on('change', function() {
  var fileNames = '';
  $.each(this.files, function() {
    fileNames += '<span class="am-badge">' + this.name + '</span> ';
  });
  $(this).siblings('.file-list').html(fileNames);
});

$('.sub').on('click', function() {
	$.ajaxFileUpload ({
	  url:'test.php', //你处理上传文件的服务端
	  secureuri:false,
	  fileElementId:'cworker_photo',//与页面处理代码中file相对应的ID值
	  data:{worker_id:'1',worker_photo_name:'worker_photo4',address:'worker_identity_file'},
	  dataType: 'text', //返回数据类型:text，xml，json，html,scritp,jsonp五种
	  success: function (data) {
	    console.log(data);
	  }
	});
});
</script>
</body>
</html>